<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient-Centric Clinical Workflow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .timeline-item {
            position: relative;
            padding-left: 40px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 9px;
            top: 8px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3b82f6;
            border: 2px solid #fff;
            box-shadow: 0 0 0 2px #e5e7eb;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            left: 14px;
            top: 20px;
            width: 2px;
            height: calc(100% + 10px);
            background: #e5e7eb;
        }
        
        .timeline-item:last-child::after {
            display: none;
        }
        
        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
            border-color: #fbbf24;
        }
        
        .status-in-progress {
            background-color: #dbeafe;
            color: #1e40af;
            border-color: #60a5fa;
        }
        
        .status-completed {
            background-color: #d1fae5;
            color: #065f46;
            border-color: #34d399;
        }
        
        .status-cancelled {
            background-color: #fee2e2;
            color: #991b1b;
            border-color: #f87171;
        }
        
        .priority-high {
            border-left: 4px solid #ef4444;
        }
        
        .priority-medium {
            border-left: 4px solid #f59e0b;
        }
        
        .priority-low {
            border-left: 4px solid #10b981;
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .patient-card {
            transition: all 0.2s ease;
        }
        
        .patient-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .action-card {
            transition: all 0.2s ease;
        }
        
        .action-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen p-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">
                    Patient-Centric Clinical Workflow
                </h1>
                <p class="text-gray-600">
                    Real-time coordination and visibility for patient care
                </p>
            </div>

            <!-- Navigation Tabs -->
            <div class="bg-white rounded-lg shadow-sm mb-6">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 px-6" aria-label="Tabs">
                        <button onclick="switchTab('patients')" class="tab-btn py-4 px-1 border-b-2 font-medium text-sm border-blue-500 text-blue-600" data-tab="patients">
                            <i class="fas fa-users mr-2"></i>Patients
                        </button>
                        <button onclick="switchTab('timeline')" class="tab-btn py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="timeline">
                            <i class="fas fa-clock mr-2"></i>Timeline
                        </button>
                        <button onclick="switchTab('actions')" class="tab-btn py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="actions">
                            <i class="fas fa-file-medical mr-2"></i>Actions
                        </button>
                        <button onclick="switchTab('departments')" class="tab-btn py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="departments">
                            <i class="fas fa-hospital mr-2"></i>Departments
                        </button>
                    </nav>
                </div>
            </div>

            <!-- Patients Tab -->
            <div id="patients-tab" class="tab-content active">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Patient List -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-lg shadow-sm">
                            <div class="px-6 py-4 border-b border-gray-200">
                                <h2 class="text-lg font-medium text-gray-900">
                                    <i class="fas fa-user-injured mr-2"></i>Patients
                                </h2>
                            </div>
                            <div class="p-6">
                                <div id="patient-list" class="space-y-3">
                                    <!-- Patients will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Patient Details -->
                    <div class="lg:col-span-2">
                        <div id="patient-details" class="bg-white rounded-lg shadow-sm">
                            <div class="p-6 text-center text-gray-500">
                                Select a patient to view details
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timeline Tab -->
            <div id="timeline-tab" class="tab-content">
                <div id="timeline-content" class="bg-white rounded-lg shadow-sm">
                    <div class="p-6 text-center text-gray-500">
                        Select a patient to view their care timeline
                    </div>
                </div>
            </div>

            <!-- Actions Tab -->
            <div id="actions-tab" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Add Patient Form -->
                    <div class="bg-white rounded-lg shadow-sm">
                        <div class="px-6 py-4 border-b border-gray-200">
                            <h2 class="text-lg font-medium text-gray-900">
                                <i class="fas fa-user-plus mr-2"></i>Add New Patient
                            </h2>
                        </div>
                        <div class="p-6">
                            <form id="patient-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Patient Name *</label>
                                    <input type="text" id="patient-name" required placeholder="e.g., John Doe" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Age *</label>
                                        <input type="number" id="patient-age" required placeholder="45" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Gender *</label>
                                        <select id="patient-gender" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="">Select</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Blood Group</label>
                                        <select id="patient-blood" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="A+">A+</option>
                                            <option value="A-">A-</option>
                                            <option value="B+">B+</option>
                                            <option value="B-">B-</option>
                                            <option value="O+">O+</option>
                                            <option value="O-">O-</option>
                                            <option value="AB+">AB+</option>
                                            <option value="AB-">AB-</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                        <select id="patient-status" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="admitted">Admitted</option>
                                            <option value="discharged">Discharged</option>
                                            <option value="critical">Critical</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Condition *</label>
                                    <input type="text" id="patient-condition" required placeholder="e.g., Chest Pain" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <button type="submit" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <i class="fas fa-user-plus mr-2"></i>Add Patient
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Create Action Form -->
                    <div class="bg-white rounded-lg shadow-sm">
                        <div class="px-6 py-4 border-b border-gray-200">
                            <h2 class="text-lg font-medium text-gray-900">
                                <i class="fas fa-plus-circle mr-2"></i>Create Clinical Action
                            </h2>
                        </div>
                        <div class="p-6">
                            <form id="action-form" class="space-y-4">
                                <!-- Patient Selection -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Patient *</label>
                                    <select id="action-patient" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="">Select a patient</option>
                                    </select>
                                </div>

                                <!-- Action Type -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Action Type *</label>
                                    <select id="action-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="prescription">Prescription</option>
                                        <option value="diagnostic">Diagnostic Request</option>
                                        <option value="referral">Referral</option>
                                        <option value="care-instruction">Care Instruction</option>
                                        <option value="lab-test">Lab Test</option>
                                        <option value="imaging">Imaging Request</option>
                                    </select>
                                </div>

                                <!-- Title -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Title *</label>
                                    <input type="text" id="action-title" required placeholder="e.g., Prescribe pain medication" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>

                                <!-- Description -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Description *</label>
                                    <textarea id="action-description" required rows="3" placeholder="Detailed description of the clinical action..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                                </div>

                                <!-- Priority -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Priority</label>
                                    <div class="flex gap-3">
                                        <label class="flex items-center">
                                            <input type="radio" name="priority" value="low" class="mr-2">
                                            <span class="text-sm">Low</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="radio" name="priority" value="medium" checked class="mr-2">
                                            <span class="text-sm">Medium</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="radio" name="priority" value="high" class="mr-2">
                                            <span class="text-sm">High</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Assigned To -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Assigned To</label>
                                    <select id="action-department" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        <option value="Pharmacy">Pharmacy</option>
                                        <option value="Diagnostics">Diagnostics</option>
                                        <option value="Nursing">Nursing</option>
                                        <option value="Referrals">Referrals</option>
                                        <option value="Laboratory">Laboratory</option>
                                        <option value="Radiology">Radiology</option>
                                    </select>
                                </div>

                                <!-- Submit Button -->
                                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <i class="fas fa-file-medical mr-2"></i>Create Clinical Action
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Recent Actions -->
                    <div class="bg-white rounded-lg shadow-sm">
                        <div class="px-6 py-4 border-b border-gray-200">
                            <h2 class="text-lg font-medium text-gray-900">
                                <i class="fas fa-history mr-2"></i>Recent Actions
                            </h2>
                        </div>
                        <div class="p-6">
                            <div id="recent-actions" class="space-y-4">
                                <!-- Recent actions will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Departments Tab -->
            <div id="departments-tab" class="tab-content">
                <div id="departments-content" class="space-y-6">
                    <!-- Department content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
